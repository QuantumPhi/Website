require.config({paths:{text:"text.min",json:"json.min",colors:"colors.min",repos:"repos.min",d3:"//cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min",jquery:"//code.jquery.com/jquery-1.11.0.min"}}),require(["jquery","d3","colors","repos"],function(a,b){var c=a(window).width(),d=a(window).height(),e=require("colors").responseJSON,f=require("repos").responseJSON;console.log(c+":"+d);var g=function(a){return a&&e[a]?e[a].color:"#717171"},h=b.layout.force().charge(-250).linkDistance(100).size([c,d]),i=b.select("#content").append("svg").attr("width",c).attr("height",d),j={},k=function(){var b=[{index:0,color:"#000",group:-1,name:"ME!",radius:20,url:"https://github.com/QuantumPhi"}],c=0;return a.each(f,function(a,d){var e=g(d.language);j.hasOwnProperty(e)||(b.push({index:a+1,color:e,group:c,language:d.language,name:d.language,radius:15}),c++,j[e]=c)}),a.each(f,function(a,d){var e=g(d.language);b.push({index:a+c+1,color:e,group:j[e],language:d.language,name:d.name,radius:10,url:d.html_url})}),b}(),l=function(){var b=[],c=[];for(property in j)b.push({source:0,target:j[property]}),c.push(j[property]);for(var d=0;d<c.length;d++)a.each(k,function(a,e){k[e.index].language===k[c[d]].name&&b.push({source:c[d],target:e.index})});return b}();h.nodes(k).links(l).start();var m=i.selectAll(".link").data(l).enter().append("line").attr("class","link").style("stroke-width",function(a){return 10*Math.sqrt(a.radius)}),n=i.selectAll(".node").data(k).enter().append("circle").attr("class","node").attr("r",function(a){return a.radius}).style("fill",function(a){return a.color}).on("mouseover",function(a){b.select(this).transition().duration(500).attr("r",a.radius+10)}).on("mouseout",function(a){b.select(this).transition().duration(500).attr("r",a.radius)}).call(h.drag);n.append("title").text(function(a){return a.name}),h.on("tick",function(){m.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),n.attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y})})});